var getRepublicainDate = function (dateInput) {

    var RepublicainDate = function () {};
    RepublicainDate.prototype.toString = function () {
        return (this.month == 13 ? this.dayName : this.day + ' ' + this.monthName) + ' an ' + this.year;
    };

    var table = [
        {
            name: "Vendémiaire",
            link: "",
            days: [
                {name: "Raisin", link: ""},
                {name: "Safran", link: ""},
                {name: "Châtaigne", link: ""},
                {name: "Colchique", link: ""},
                {name: "Cheval", link: ""},
                {name: "Raisin", link: ""},
                {name: "Raisin", link: ""},
                {name: "Raisin", link: ""},
                {name: "Raisin", link: ""},
                {name: "Raisin", link: ""},
                {name: "Raisin", link: ""},
                {name: "Raisin", link: ""},
                {name: "Raisin", link: ""},
                {name: "Raisin", link: ""},
                {name: "Raisin", link: ""},
                {name: "Raisin", link: ""},
                {name: "Raisin", link: ""},
                {name: "Raisin", link: ""},
                {name: "Raisin", link: ""},
                {name: "Raisin", link: ""},
                {name: "Raisin", link: ""},
                {name: "Raisin", link: ""},
                {name: "Raisin", link: ""},
                {name: "Raisin", link: ""},
                {name: "Raisin", link: ""},
                {name: "Raisin", link: ""},
                {name: "Raisin", link: ""},
                {name: "Raisin", link: ""},
                {name: "Raisin", link: ""},
                {name: "Raisin", link: ""}
            ]
        },
        {
            name: "Brumaire",
            link: "",
            days: [
                {name: "Pomme", link: ""},
                {name: "Pomme", link: ""},
                {name: "Pomme", link: ""},
                {name: "Pomme", link: ""},
                {name: "Pomme", link: ""},
                {name: "Pomme", link: ""},
                {name: "Pomme", link: ""},
                {name: "Pomme", link: ""},
                {name: "Pomme", link: ""},
                {name: "Pomme", link: ""},
                {name: "Pomme", link: ""},
                {name: "Pomme", link: ""},
                {name: "Pomme", link: ""},
                {name: "Pomme", link: ""},
                {name: "Pomme", link: ""},
                {name: "Pomme", link: ""},
                {name: "Pomme", link: ""},
                {name: "Pomme", link: ""},
                {name: "Pomme", link: ""},
                {name: "Pomme", link: ""},
                {name: "Pomme", link: ""},
                {name: "Pomme", link: ""},
                {name: "Pomme", link: ""},
                {name: "Pomme", link: ""},
                {name: "Pomme", link: ""},
                {name: "Pomme", link: ""},
                {name: "Pomme", link: ""},
                {name: "Pomme", link: ""},
                {name: "Pomme", link: ""},
                {name: "Pomme", link: ""}
            ]
        },
        {
            name: "Frimaire",
            link: "",
            days: [
                {name: "Raiponce", link: ""},
                {name: "Raiponce", link: ""},
                {name: "Raiponce", link: ""},
                {name: "Raiponce", link: ""},
                {name: "Raiponce", link: ""},
                {name: "Raiponce", link: ""},
                {name: "Raiponce", link: ""},
                {name: "Raiponce", link: ""},
                {name: "Raiponce", link: ""},
                {name: "Raiponce", link: ""},
                {name: "Raiponce", link: ""},
                {name: "Raiponce", link: ""},
                {name: "Raiponce", link: ""},
                {name: "Raiponce", link: ""},
                {name: "Raiponce", link: ""},
                {name: "Raiponce", link: ""},
                {name: "Raiponce", link: ""},
                {name: "Raiponce", link: ""},
                {name: "Raiponce", link: ""},
                {name: "Raiponce", link: ""},
                {name: "Raiponce", link: ""},
                {name: "Raiponce", link: ""},
                {name: "Raiponce", link: ""},
                {name: "Raiponce", link: ""},
                {name: "Raiponce", link: ""},
                {name: "Raiponce", link: ""},
                {name: "Raiponce", link: ""},
                {name: "Raiponce", link: ""},
                {name: "Raiponce", link: ""},
                {name: "Raiponce", link: ""}
            ]
        },
        {
            name: "Nivôse",
            link: "",
            days: [
                {name: "Tourbe", link: ""},
                {name: "Tourbe", link: ""},
                {name: "Tourbe", link: ""},
                {name: "Tourbe", link: ""},
                {name: "Tourbe", link: ""},
                {name: "Tourbe", link: ""},
                {name: "Tourbe", link: ""},
                {name: "Tourbe", link: ""},
                {name: "Tourbe", link: ""},
                {name: "Tourbe", link: ""},
                {name: "Tourbe", link: ""},
                {name: "Tourbe", link: ""},
                {name: "Tourbe", link: ""},
                {name: "Tourbe", link: ""},
                {name: "Tourbe", link: ""},
                {name: "Tourbe", link: ""},
                {name: "Tourbe", link: ""},
                {name: "Tourbe", link: ""},
                {name: "Tourbe", link: ""},
                {name: "Tourbe", link: ""},
                {name: "Tourbe", link: ""},
                {name: "Tourbe", link: ""},
                {name: "Tourbe", link: ""},
                {name: "Tourbe", link: ""},
                {name: "Tourbe", link: ""},
                {name: "Tourbe", link: ""},
                {name: "Tourbe", link: ""},
                {name: "Tourbe", link: ""},
                {name: "Tourbe", link: ""},
                {name: "Tourbe", link: ""}
            ]
        },
        {
            name: "Pluviôse",
            link: "",
            days: [
                {name: "Lauréole", link: ""},
                {name: "Lauréole", link: ""},
                {name: "Lauréole", link: ""},
                {name: "Lauréole", link: ""},
                {name: "Lauréole", link: ""},
                {name: "Lauréole", link: ""},
                {name: "Lauréole", link: ""},
                {name: "Lauréole", link: ""},
                {name: "Lauréole", link: ""},
                {name: "Lauréole", link: ""},
                {name: "Lauréole", link: ""},
                {name: "Lauréole", link: ""},
                {name: "Lauréole", link: ""},
                {name: "Lauréole", link: ""},
                {name: "Lauréole", link: ""},
                {name: "Lauréole", link: ""},
                {name: "Lauréole", link: ""},
                {name: "Lauréole", link: ""},
                {name: "Lauréole", link: ""},
                {name: "Lauréole", link: ""},
                {name: "Lauréole", link: ""},
                {name: "Lauréole", link: ""},
                {name: "Lauréole", link: ""},
                {name: "Lauréole", link: ""},
                {name: "Lauréole", link: ""},
                {name: "Lauréole", link: ""},
                {name: "Lauréole", link: ""},
                {name: "Lauréole", link: ""},
                {name: "Lauréole", link: ""},
                {name: "Lauréole", link: ""}
            ]
        },
        {
            name: "Ventôse",
            link: "",
            days: [
                {name: "Tussilage", link: ""},
                {name: "Tussilage", link: ""},
                {name: "Tussilage", link: ""},
                {name: "Tussilage", link: ""},
                {name: "Tussilage", link: ""},
                {name: "Tussilage", link: ""},
                {name: "Tussilage", link: ""},
                {name: "Tussilage", link: ""},
                {name: "Tussilage", link: ""},
                {name: "Tussilage", link: ""},
                {name: "Tussilage", link: ""},
                {name: "Tussilage", link: ""},
                {name: "Tussilage", link: ""},
                {name: "Tussilage", link: ""},
                {name: "Tussilage", link: ""},
                {name: "Tussilage", link: ""},
                {name: "Tussilage", link: ""},
                {name: "Tussilage", link: ""},
                {name: "Tussilage", link: ""},
                {name: "Tussilage", link: ""},
                {name: "Tussilage", link: ""},
                {name: "Tussilage", link: ""},
                {name: "Tussilage", link: ""},
                {name: "Tussilage", link: ""},
                {name: "Tussilage", link: ""},
                {name: "Tussilage", link: ""},
                {name: "Tussilage", link: ""},
                {name: "Tussilage", link: ""},
                {name: "Tussilage", link: ""},
                {name: "Tussilage", link: ""}
            ]
        },
        {
            name: "Germinal",
            link: "",
            days: [
                {name: "Primevère", link: ""},
                {name: "Primevère", link: ""},
                {name: "Primevère", link: ""},
                {name: "Primevère", link: ""},
                {name: "Primevère", link: ""},
                {name: "Primevère", link: ""},
                {name: "Primevère", link: ""},
                {name: "Primevère", link: ""},
                {name: "Primevère", link: ""},
                {name: "Primevère", link: ""},
                {name: "Primevère", link: ""},
                {name: "Primevère", link: ""},
                {name: "Primevère", link: ""},
                {name: "Primevère", link: ""},
                {name: "Primevère", link: ""},
                {name: "Primevère", link: ""},
                {name: "Primevère", link: ""},
                {name: "Primevère", link: ""},
                {name: "Primevère", link: ""},
                {name: "Primevère", link: ""},
                {name: "Primevère", link: ""},
                {name: "Primevère", link: ""},
                {name: "Primevère", link: ""},
                {name: "Primevère", link: ""},
                {name: "Primevère", link: ""},
                {name: "Primevère", link: ""},
                {name: "Primevère", link: ""},
                {name: "Primevère", link: ""},
                {name: "Primevère", link: ""},
                {name: "Primevère", link: ""}
            ]
        },
        {
            name: "Floréal",
            link: "",
            days: [
                {name: "Rose", link: ""},
                {name: "Rose", link: ""},
                {name: "Rose", link: ""},
                {name: "Rose", link: ""},
                {name: "Rose", link: ""},
                {name: "Rose", link: ""},
                {name: "Rose", link: ""},
                {name: "Rose", link: ""},
                {name: "Rose", link: ""},
                {name: "Rose", link: ""},
                {name: "Rose", link: ""},
                {name: "Rose", link: ""},
                {name: "Rose", link: ""},
                {name: "Rose", link: ""},
                {name: "Rose", link: ""},
                {name: "Rose", link: ""},
                {name: "Rose", link: ""},
                {name: "Rose", link: ""},
                {name: "Rose", link: ""},
                {name: "Rose", link: ""},
                {name: "Rose", link: ""},
                {name: "Rose", link: ""},
                {name: "Rose", link: ""},
                {name: "Rose", link: ""},
                {name: "Rose", link: ""},
                {name: "Rose", link: ""},
                {name: "Rose", link: ""},
                {name: "Rose", link: ""},
                {name: "Rose", link: ""},
                {name: "Rose", link: ""}
            ]
        },
        {
            name: "Prairial",
            link: "",
            days: [
                {name: "Luzerne", link: ""},
                {name: "Luzerne", link: ""},
                {name: "Luzerne", link: ""},
                {name: "Luzerne", link: ""},
                {name: "Luzerne", link: ""},
                {name: "Luzerne", link: ""},
                {name: "Luzerne", link: ""},
                {name: "Luzerne", link: ""},
                {name: "Luzerne", link: ""},
                {name: "Luzerne", link: ""},
                {name: "Luzerne", link: ""},
                {name: "Luzerne", link: ""},
                {name: "Luzerne", link: ""},
                {name: "Luzerne", link: ""},
                {name: "Luzerne", link: ""},
                {name: "Luzerne", link: ""},
                {name: "Luzerne", link: ""},
                {name: "Luzerne", link: ""},
                {name: "Luzerne", link: ""},
                {name: "Luzerne", link: ""},
                {name: "Luzerne", link: ""},
                {name: "Luzerne", link: ""},
                {name: "Luzerne", link: ""},
                {name: "Luzerne", link: ""},
                {name: "Luzerne", link: ""},
                {name: "Luzerne", link: ""},
                {name: "Luzerne", link: ""},
                {name: "Luzerne", link: ""},
                {name: "Luzerne", link: ""},
                {name: "Traîneau", link: ""}
            ]
        },
        {
            name: "Messidor",
            link: "",
            days: [
                {name: "Seigle", link: ""},
                {name: "Seigle", link: ""},
                {name: "Seigle", link: ""},
                {name: "Seigle", link: ""},
                {name: "Seigle", link: ""},
                {name: "Seigle", link: ""},
                {name: "Seigle", link: ""},
                {name: "Seigle", link: ""},
                {name: "Seigle", link: ""},
                {name: "Seigle", link: ""},
                {name: "Seigle", link: ""},
                {name: "Seigle", link: ""},
                {name: "Seigle", link: ""},
                {name: "Seigle", link: ""},
                {name: "Seigle", link: ""},
                {name: "Seigle", link: ""},
                {name: "Seigle", link: ""},
                {name: "Seigle", link: ""},
                {name: "Seigle", link: ""},
                {name: "Seigle", link: ""},
                {name: "Seigle", link: ""},
                {name: "Seigle", link: ""},
                {name: "Seigle", link: ""},
                {name: "Seigle", link: ""},
                {name: "Seigle", link: ""},
                {name: "Seigle", link: ""},
                {name: "Seigle", link: ""},
                {name: "Seigle", link: ""},
                {name: "Seigle", link: ""},
                {name: "Seigle", link: ""}
            ]
        },
    {
            name: "Thermidor",
            link: "",
            days: [
                {name: "Épeautre", link: ""},
                {name: "Épeautre", link: ""},
                {name: "Épeautre", link: ""},
                {name: "Épeautre", link: ""},
                {name: "Épeautre", link: ""},
                {name: "Épeautre", link: ""},
                {name: "Épeautre", link: ""},
                {name: "Épeautre", link: ""},
                {name: "Épeautre", link: ""},
                {name: "Épeautre", link: ""},
                {name: "Épeautre", link: ""},
                {name: "Épeautre", link: ""},
                {name: "Épeautre", link: ""},
                {name: "Épeautre", link: ""},
                {name: "Épeautre", link: ""},
                {name: "Épeautre", link: ""},
                {name: "Épeautre", link: ""},
                {name: "Épeautre", link: ""},
                {name: "Épeautre", link: ""},
                {name: "Épeautre", link: ""},
                {name: "Épeautre", link: ""},
                {name: "Épeautre", link: ""},
                {name: "Épeautre", link: ""},
                {name: "Épeautre", link: ""},
                {name: "Épeautre", link: ""},
                {name: "Épeautre", link: ""},
                {name: "Épeautre", link: ""},
                {name: "Épeautre", link: ""},
                {name: "Épeautre", link: ""},
                {name: "Épeautre", link: ""}
            ]
        },
        {
            name: "Fructidor",
            link: "",
            days: [
                {name: "Prune", link: ""},
                {name: "Prune", link: ""},
                {name: "Prune", link: ""},
                {name: "Prune", link: ""},
                {name: "Prune", link: ""},
                {name: "Prune", link: ""},
                {name: "Prune", link: ""},
                {name: "Prune", link: ""},
                {name: "Prune", link: ""},
                {name: "Prune", link: ""},
                {name: "Prune", link: ""},
                {name: "Prune", link: ""},
                {name: "Prune", link: ""},
                {name: "Prune", link: ""},
                {name: "Prune", link: ""},
                {name: "Prune", link: ""},
                {name: "Prune", link: ""},
                {name: "Prune", link: ""},
                {name: "Prune", link: ""},
                {name: "Prune", link: ""},
                {name: "Prune", link: ""},
                {name: "Prune", link: ""},
                {name: "Prune", link: ""},
                {name: "Prune", link: ""},
                {name: "Prune", link: ""},
                {name: "Prune", link: ""},
                {name: "Prune", link: ""},
                {name: "Prune", link: ""},
                {name: "Prune", link: ""},
                {name: "Prune", link: ""}
            ]
        },
        {
            name: "Jours complémentaires",
            link: "",
            days: [
                {name: "Jour de la vertu", link: ""},
                {name: "Jour du génie", link: ""},
                {name: "Jour du travail", link: ""},
                {name: "Jour de l'opinion", link: ""},
                {name: "Jour des récompenses", link: ""},
                {name: "Jour de la révolution", link: ""}
            ]
        }
    ];

    var date = moment(dateInput);
    var twentyOneSeptember1792 = moment('1792-09-22');
    var days = date.diff(twentyOneSeptember1792, 'days');

    var rep = new RepublicainDate;
    rep.year = 1;

    while (days >= 0) {
        var leapYear = (rep.year + 1) % 4 == 0;

        if (days >= (leapYear ? 366 : 365)) {
            rep.year++;
            days -= leapYear ? 366 : 365;
        } else {
            var monthIndex = Math.floor(days / 30);
            var dayIndex = days % 30;

            rep.month = monthIndex + 1;
            rep.monthName = table[monthIndex].name;
            rep.day = dayIndex + 1;
            rep.dayName = table[monthIndex].days[dayIndex].name;
            break;
        }
    }

    return rep;
};
